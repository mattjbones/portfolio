<!DOCTYPE html>
<html lang="en">
<head>
  {% include 'head' %}
</head>
<body class="photo-page">
  <div class="hover-zone hover-zone--top" aria-hidden="true"></div>
  <nav class="photo-nav">
    <a class="photo-nav-title" href="{{ site.baseurl }}">Photos by Matt</a>
  </nav>

  {% assign posts = site.posts | sort: "date" | reverse %}
  {% assign idx = nil %}
  {% for p in posts %}
    {% if p.url == page.url %}
      {% assign idx = forloop.index0 %}
    {% endif %}
  {% endfor %}
  {% if idx != nil %}
    {% assign prev_index = idx | minus: 1 %}
    {% assign next_index = idx | plus: 1 %}
    {% if prev_index >= 0 %}{% assign prev = posts[prev_index] %}{% endif %}
    {% if next_index < posts.size %}{% assign next = posts[next_index] %}{% endif %}
  {% endif %}

  <section class="photo-hero">
    <img src="{{ page.image }}" alt="{{ page.title }}">
    <div class="hover-zone hover-zone--bottom" aria-hidden="true"></div>
    <nav class="photo-pager photo-pager--hero" aria-label="Photo navigation">
      {% if prev %}
      <a class="photo-pager-link prev" href="{{ prev.url }}">← previous</a>
      {% endif %}
      {% if next %}
      <a class="photo-pager-link next" href="{{ next.url }}">next →</a>
      {% endif %}
    </nav>
  </section>

  <section class="photo-details">
    <h1 class="photo-details-title">{{ page.title }}</h1>
    {% if page.description %}<p class="photo-details-desc">{{ page.description }}</p>{% endif %}

    <table class="photo-meta-table">
      {% if page.camera %}<tr><th>Camera</th><td>{{ page.camera }}</td></tr>{% endif %}
      {% if page.lens %}<tr><th>Lens</th><td>{{ page.lens }}</td></tr>{% endif %}
      {% if page.film %}<tr><th>Film</th><td>{{ page.film }}</td></tr>{% endif %}
      {% if page.film_format %}<tr><th>Format</th><td>{{ page.film_format }}</td></tr>{% endif %}
      {% if page.exposure_compensation %}<tr><th>Exposure</th><td>{{ page.exposure_compensation }}</td></tr>{% endif %}
      {% if page.developed_by %}<tr><th>Developed</th><td>{{ page.developed_by }}</td></tr>{% endif %}
      {% if page.location %}<tr><th>Location</th><td>{{ page.location }}</td></tr>{% endif %}
      {% if page.date %}<tr><th>Date</th><td>{{ page.date | date_to_string }}</td></tr>{% endif %}
    </table>

    {% if page.tags %}
    <ul class="tag-list">
      {% assign tags = page.tags | split: " " %}
      {% for tag in tags %}
      <li><a href="{{ site.baseurl }}tags/{{ tag }}/">{{ tag }}</a></li>
      {% endfor %}
    </ul>
    {% endif %}

  </section>
</body>
</html>
